<div class="box">
    <div class="the-box">
        <mat-icon (click)="profileUserInfoService.setPublicDisable(); blankService.disableBlank();"
            class="close-second">close</mat-icon>
        <h2>{{this.route.snapshot.paramMap.get('name')}}</h2>

        <div class="info">
            <div [className]="publicInfo === 'following' ? 'info-box custom' : 'info-box'"
                (click)="publicInfo = 'following';  profileUserInfoService.getPublicFollowing(this.route.snapshot.paramMap.get('name')); ">
                <p>Following {{ userInfoService.publicUserData && userInfoService.publicUserData.following }}</p>
            </div>

            <div [className]="publicInfo === 'followers' ? 'info-box custom' : 'info-box'" (click)="publicInfo = 'followers'; 
         profileUserInfoService.getPublicFollowers(this.route.snapshot.paramMap.get('name'));">
                <p>Followers {{ userInfoService.publicUserData && userInfoService.publicUserData.followers }}</p>
            </div>

            <div [className]="publicInfo === 'friends' ? 'info-box custom' : 'info-box'"
                (click)="publicInfo = 'friends'; loaderService.miniLoadedSubject.next(1);">
                <p>Friends 0</p>
            </div>
        </div>

        <div class="main">

            <app-mini-loading *ngIf="(loaderService.miniLoaded$ | async) === 0"></app-mini-loading>

            <div class="themain" *ngIf="publicInfo === 'following'">
                <div *ngIf="profileUserInfoService.hasFollowingPublic === false" class="nothing">
                    <p>This user doesn't follow anyone.</p>
                </div>
                <div *ngFor="let profile of profileUserInfoService.usersPublicFollowing" class="main-box">
                   
                    <div class="the-photo">
                  
                        <img *ngIf="profile.profile_photo !== undefined" [src]="globalVars.compressedPhotosUrl + profile.profile_photo">
                    </div>
                    <div class="usernames">
                        <p>{{profile.prqkor}}</p>
                        <p class="name">{{profile.name}}</p>
                    </div>
                    <button (click)="router.navigate(['/profiles/' + profile.prqkor]);  viewProfileService.view(); this.userInfoService.getPublicUserData(this.username);  this.profilesService.checkIfFollow(this.username) ">View Profile</button>
                </div>
            </div>

            <div class="themain" *ngIf="publicInfo === 'followers'">
                <div *ngIf="profileUserInfoService.hasFollowersPublic === false" class="nothing">
                    <p>This user doesn't have any followers.</p>
                </div>
                <div *ngFor="let profile of profileUserInfoService.usersPublicFollowers" class="main-box">
                    <div class="the-photo">

                        <img  [src]="globalVars.compressedPhotosUrl + profile.profile_photo">
                    </div>
                    <div class="usernames">
                        <p>{{profile.prqkor}}</p>
                        <p class="name">{{profile.name}}</p>
                    </div>
                    <button (click)="router.navigate(['/profiles/' + profile.prqkor]); viewProfileService.view(); this.userInfoService.getPublicUserData(this.username);  this.profilesService.checkIfFollow(this.username)  ">View Profile</button>
                </div>
            </div>

            <div class="themain" *ngIf="publicInfo === 'friends'">
                <div class="nothing">
                    <p>This user doesn't have any friends.</p>
                </div>
            </div>

        </div>


    </div>
</div>